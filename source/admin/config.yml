backend:
  name: git-gateway
  branch: main  # 或 master，根据您的仓库
  commit_messages:
    create: "CMS: 创建 {{collection}} {{slug}}"
    update: "CMS: 更新 {{collection}} {{slug}}"
    delete: "CMS: 删除 {{collection}} {{slug}}"
    uploadMedia: "CMS: 上传媒体文件 {{path}}"
    deleteMedia: "CMS: 删除媒体文件 {{path}}"

local_backend: true  # 允许本地开发时使用

identity_url: https://yksy.linthu.cn/.netlify/identity
gateway_url: https://yksy.linthu.cn/.netlify/git

media_folder: "source/resources"
public_folder: "/resources"

collections:
  - name: "posts"
    label: "文章"
    label_singular: "文章"
    folder: "source/_posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: md
    format: frontmatter
    
    editor:
      preview: true
    
    fields:
      - { label: "标题", name: "title", widget: "string", required: true }
      - { label: "发布日期", name: "date", widget: "datetime", format: "YYYY-MM-DD HH:mm:ss", required: true }
      - { label: "标签", name: "tags", widget: "list", default: [], required: false }
      - { label: "分类", name: "categories", widget: "list", default: [], required: false }
      - { label: "封面图", name: cover, widget: "image", required: false, media_folder: "source/images/uploads", public_folder: "/images/uploads" }
      - { label: "摘要", name: description, widget: "text", required: false }
      - { label: "置顶", name: sticky, widget: "number", default: 0, required: false }
      - { label: "草稿", name: draft, widget: "boolean", default: false, required: false }
      - { label: "内容", name: "body", widget: "markdown", required: true }

  - name: "about"
    label: "关于"
    folder: "source/about"
    create: true
    slug: "{{slug}}"
    extension: md
    format: frontmatter
    
    fields:
      - { label: "内容", name: "body", widget: "markdown" }

  - name: "settings"
    label: "站点设置"
    editor:
      preview: false
    files:
      - file: "_config.yml"
        label: "Hexo 配置"
        name: "hexo_config"
        fields:
          - { label: "站点标题", name: "title", widget: "string" }
          - { label: "副标题", name: "subtitle", widget: "string" }
          - { label: "作者", name: "author", widget: "string" }
          - { label: "语言", name: "language", widget: "string" }
